<!DOCTYPE html>
<html>
<head>
    <title>Random Art Gallery</title>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="description" content="Random Art Gallery"/>
    <meta name="keywords"
          content="random art, javascript, dynamic, grid, layout, flex layouts"/>
    <!--<link rel="icon" href="favicon.ico" type="image/x-icon"/>-->
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="js/freewall.js"></script>
    <!--<script type="test/javascript" src="js/jquery.lazyload.js"></script>-->
    <style type="text/css">
        .free-wall {
            margin: 15px;
        }

        .brick img {
            margin: 0;
            display: block;
        }
    </style>
</head>
<body>
<div class='header'>
    <div class="clearfix">
        <div class="float-left">
            <h1>Random Art Gallery</h1>

            <div class='target'>Generated with dynamic python code.</div>
        </div>
    </div>
</div>
<div id="freewall" class="free-wall"></div>

<script type="text/javascript">

    var temp = "<div class='brick' style='width:{width}px;'><img src='images/{index}.jpg' width='100%'></div>";
    //    var temp = "<div class='brick' style='width:{width}px;'><img class='lazy' data-original='images/{index}.jpg' width='100%'></div>";

    var w = 1, h = 1, html = '', limitItem = 98;
    for (var i = 0; i < limitItem; ++i) {
        w = 1 + 3 * Math.random() << 0;
        html += temp.replace(/\{width\}/g, w * 150).replace("{index}", i + 1);
    }
    $("#freewall").html(html);

    var wall = new freewall("#freewall");
    wall.reset({
        selector: '.brick',
        animate: true,
        cellW: 150,
        cellH: 'auto',
        onResize: function () {
            wall.fitWidth();
        }
    });

    var images = wall.container.find('.brick');
    images.find('img').load(function () {
        wall.fitWidth();
    });

//    $(function () {
//        $("img.lazy").lazyload({
//            event: "click",
//            container: $("#brick")
//        });
//    });

</script>
</body>
</html>

